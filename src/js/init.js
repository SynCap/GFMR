/**!
 * Copyright (c) 2013, 2015 Constantin Loskutov,
 * https://github.com/SynCap/GFMR
 */
!function(e){function n(e,n,i,t){var o=document.createElement(e);if(i=i||document.head,"undefined"!==n&&null!=n)for(var l in n)o[l]=n[l];return"undefined"!==t&&null!=t&&(o.innerHTML=t),i.appendChild(o),o}function i(e){n("link",{href:o("css/"+e+".css"),rel:"stylesheet"}),console.log("CSS injected: %s",e)}var t=e.document,o=chrome.extension.getURL;n("link",{rel:"shortcut icon",type:"image/x-icon",href:o("img/gfmr.ico")});i("gfmr"),n("script",{type:"text/plain",id:"mdText"},t.head,t.body.innerText),console.info("Initial text saved as script with id = `mdText`");var l=window.markdownit({html:!0,xhtmlOut:!0,breaks:!1,linkify:!0,typographer:!0,quotes:"«»‘’"}).use(window.markdownitDeflist).use(window.markdownitEmoji);t.body.innerHTML='<div id="page">'+l.render(t.body.innerText)+"</div>",console.log("Renderer `markdownit.js` fired."),hljs.initHighlighting(),console.log("HL initialized."),[].forEach.call(document.querySelectorAll("code.hljs"),function(e){hljs.lineNumbersBlock(e)}),console.log("HL line numbers initialized.");var r=document.querySelector("#page h1");r&&n("title",null,null,r.innerText.trim()),[].forEach.call(document.querySelectorAll('a[href^="http:"],a[href^="https:"]'),function(e){e.target="_blank"}),[].forEach.call(document.querySelectorAll("h1,h2,h3,h4,h5,h6"),function(e){e.id=e.innerText.trim().toLowerCase().replace(/[\s\:&]+/g,"_")})}(window);